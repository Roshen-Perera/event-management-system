generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Attendee {
  name          String
  email         String          @id @unique(map: "Attendee_email_key")
  eventattendee EventAttendee[]
}

model Event {
  name               String          @id @unique(map: "Event_name_key")
  description        String
  date               DateTime
  location           String
  createdBy          String
  capacity           Int
  remaining_capacity Int
  tags               String
  eventattendee      EventAttendee[]
}

model EventAttendee {
  eventName     String
  attendeeEmail String
  attendee      Attendee @relation(fields: [attendeeEmail], references: [email], onDelete: Cascade, map: "EventAttendee_attendeeEmail_fkey")
  event         Event    @relation(fields: [eventName], references: [name], onDelete: Cascade, map: "EventAttendee_eventName_fkey")

  @@id([eventName, attendeeEmail])
}
